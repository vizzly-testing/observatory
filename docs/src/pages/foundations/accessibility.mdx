---
layout: ../../layouts/DocsLayout.astro
title: Accessibility
description: Building inclusive interfaces with Observatory
---

import { ComponentPreview } from '../../components/ComponentPreview.jsx';
import { ColorContrastDemo, FocusIndicatorsDemo, SemanticColorsDemo, AriaLabelsDemo, KeyboardNavigationDemo, ScreenReaderDemo, FormAccessibilityDemo } from '../../components/demos/AccessibilityDemos.jsx';

# Accessibility

Observatory is designed to be accessible to all users. This guide covers the accessibility features built into our components and best practices for maintaining accessibility in your applications.

## Color Contrast

All Observatory color combinations meet WCAG 2.1 AA standards (4.5:1 for normal text, 3:1 for large text).

<ComponentPreview client:load>
  <ColorContrastDemo />
</ComponentPreview>

### Guidelines

- **Primary text** (#ffffff) on dark surfaces exceeds AAA requirements
- **Secondary text** (#9ca3af) meets AA for all contexts
- **Amber accents** (#f59e0b) are carefully calibrated for dark backgrounds
- Never use low-contrast combinations like gray on gray

## Focus Indicators

All interactive elements have visible focus states for keyboard users.

<ComponentPreview client:load>
  <FocusIndicatorsDemo />
</ComponentPreview>

### Focus Ring Pattern

```jsx
{/* Standard focus ring */}
<button className="focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2 focus:ring-offset-slate-900">

{/* Focus with border change */}
<input className="focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-amber-500">
```

### Requirements

- Focus rings must have 3:1 contrast against adjacent colors
- Never use `outline: none` without providing an alternative
- Focus should be visible in both light and dark modes

## Semantic Colors

Colors convey meaning consistently throughout Observatory.

<ComponentPreview client:load>
  <SemanticColorsDemo />
</ComponentPreview>

### Important

**Never rely on color alone** to convey information. Always pair colors with:

- Icons (✓ for success, ✕ for error)
- Text labels ("Approved", "Failed")
- Patterns or shapes for additional distinction

## ARIA Labels

Provide context for screen reader users.

<ComponentPreview client:load>
  <AriaLabelsDemo />
</ComponentPreview>

### Icon-Only Buttons

```jsx
{/* Always provide aria-label for icon-only buttons */}
<button aria-label="Close dialog">
  <XMarkIcon className="w-5 h-5" />
</button>

{/* Or use sr-only text */}
<button>
  <XMarkIcon className="w-5 h-5" aria-hidden="true" />
  <span className="sr-only">Close dialog</span>
</button>
```

### Decorative Icons

```jsx
{/* Hide decorative icons from screen readers */}
<div className="flex items-center gap-2">
  <CheckCircleIcon className="w-5 h-5 text-emerald-400" aria-hidden="true" />
  <span>Build passed</span>
</div>
```

## Keyboard Navigation

All Observatory components support full keyboard navigation.

<ComponentPreview client:load>
  <KeyboardNavigationDemo />
</ComponentPreview>

### Component Keyboard Support

| Component | Keys |
|-----------|------|
| Button | `Enter`, `Space` to activate |
| Modal | `Escape` to close, focus trapped inside |
| Dropdown | `↑`/`↓` to navigate, `Enter` to select, `Escape` to close |
| Tabs | `←`/`→` to switch tabs |
| Toggle | `Space` to toggle |
| Tooltip | Appears on focus |

### Focus Management

```jsx
{/* Trap focus in modals */}
<Modal open={isOpen}>
  {/* Focus is automatically trapped inside */}
  <button>First focusable</button>
  <button>Last focusable</button>
</Modal>

{/* Return focus when closing */}
<Modal open={isOpen} onClose={handleClose}>
  {/* Focus returns to trigger element on close */}
</Modal>
```

## Screen Readers

Ensure content is announced correctly.

<ComponentPreview client:load>
  <ScreenReaderDemo />
</ComponentPreview>

### Visually Hidden Text

```jsx
{/* Add context for screen readers only */}
<button>
  <span className="sr-only">Download </span>
  Export
  <span className="sr-only"> as PDF</span>
</button>

{/* Tailwind's sr-only class */}
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  border: 0;
}
```

### Live Regions

```jsx
{/* Announce dynamic updates */}
<div role="status" aria-live="polite">
  Changes saved successfully
</div>

{/* For urgent updates */}
<div role="alert" aria-live="assertive">
  Error: Connection lost
</div>
```

## Form Accessibility

Proper labeling and error handling for forms.

<ComponentPreview client:load>
  <FormAccessibilityDemo />
</ComponentPreview>

### Labels and Hints

```jsx
<div>
  <label htmlFor="email" className="block text-sm font-medium mb-1">
    Email address
    <span className="text-red-400 ml-1" aria-hidden="true">*</span>
    <span className="sr-only">(required)</span>
  </label>
  <Input
    id="email"
    type="email"
    aria-required="true"
    aria-describedby="email-hint"
  />
  <p id="email-hint" className="text-xs text-slate-500 mt-1">
    We'll send notifications here
  </p>
</div>
```

### Error States

```jsx
<div>
  <label htmlFor="password">Password</label>
  <Input
    id="password"
    type="password"
    aria-invalid={hasError}
    aria-describedby={hasError ? "password-error" : undefined}
    error={hasError ? "Password too short" : undefined}
  />
  {hasError && (
    <p id="password-error" role="alert" className="text-red-400 text-sm">
      Password must be at least 8 characters
    </p>
  )}
</div>
```

## Reduced Motion

Respect user preferences for reduced motion.

```css
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
  }
}
```

```jsx
{/* Tailwind utilities */}
<div className="motion-safe:animate-pulse">
  {/* Only animates if user hasn't requested reduced motion */}
</div>

<div className="motion-reduce:transition-none">
  {/* Removes transitions for reduced motion preference */}
</div>
```

## Testing Accessibility

### Manual Testing Checklist

- [ ] Navigate entire page using only keyboard
- [ ] Test with screen reader (VoiceOver, NVDA)
- [ ] Check with browser zoom at 200%
- [ ] Verify focus is visible on all interactive elements
- [ ] Confirm color is not the only indicator of state
- [ ] Test with `prefers-reduced-motion` enabled

### Automated Tools

- [axe DevTools](https://www.deque.com/axe/) - Browser extension
- [WAVE](https://wave.webaim.org/) - Web accessibility evaluation
- [Lighthouse](https://developer.chrome.com/docs/lighthouse/) - Chrome DevTools audit

```bash
# Run axe-core in tests
npm install --save-dev @axe-core/react

# In your test
import { axe, toHaveNoViolations } from 'jest-axe';
expect.extend(toHaveNoViolations);

it('should have no accessibility violations', async () => {
  const { container } = render(<MyComponent />);
  const results = await axe(container);
  expect(results).toHaveNoViolations();
});
```

## Resources

- [WCAG 2.1 Guidelines](https://www.w3.org/WAI/WCAG21/quickref/)
- [WAI-ARIA Authoring Practices](https://www.w3.org/WAI/ARIA/apg/)
- [Inclusive Components](https://inclusive-components.design/)
- [A11y Project Checklist](https://www.a11yproject.com/checklist/)
